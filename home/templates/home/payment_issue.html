{% load static %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Shore Fest '25 Payment Failed</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; font-size: 16px; line-height: 1.5; color: #333333; background-color: #f4f4f4;">
    <table border="0" cellpadding="0" cellspacing="0" width="100%" style="max-width: 600px; margin: 20px auto; background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <tr>
            <td style="padding: 40px;">
                <!-- Header -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 30px;">
                    <tr>
                        <td align="center">
                            <img src="https://shore.gitam.edu/static/img/shore25logo.png" alt="Shore Fest '25 Logo" width="120" height="120" style="margin-bottom: 20px;" />
                            <h1 style="color: #e53e3e; font-size: 28px; margin: 0 0 10px 0;">Payment Failed</h1>
                            <p style="color: #666666; font-size: 18px; margin: 0;">We're sorry, but there was an issue processing your payment for Shore Fest '25.</p>
                        </td>
                    </tr>
                </table>

                <!-- Transaction Details -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="background-color: #fff5f5; padding: 20px; border-radius: 8px; margin-bottom: 30px;">
                    <tr>
                        <td>
                            <h2 style="color: #e53e3e; font-size: 22px; margin: 0 0 15px 0;">Transaction Details</h2>
                            <table border="0" cellpadding="0" cellspacing="0" width="100%">
                                <tr>
                                    <td style="padding: 8px 0; color: #666666;">Transaction ID:</td>
                                    <td style="padding: 8px 0; color: #333333; font-weight: bold;">{{ payment.txn_id }}</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; color: #666666;">Bankref Number:</td>
                                    <td style="padding: 8px 0; color: #333333;">{{ payment.bankref_number }}</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; color: #666666;">Amount:</td>
                                    <td style="padding: 8px 0; color: #333333;">{{ payment.amount }}</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; color: #666666;">Pass Type:</td>
                                    <td style="padding: 8px 0; color: #333333;">{% if user.is_gitamite %}GITAM Student {% else %}Non-GITAM Student {% endif %}Pass</td>
                                </tr>
                                <tr>
                                    <td style="padding: 8px 0; color: #666666;">Error:</td>
                                    <td style="padding: 8px 0; color: #e53e3e; font-weight: bold;">Payment Declined</td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>

                <!-- Next Steps -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 30px;">
                    <tr>
                        <td>
                            <h2 style="color: #333333; font-size: 22px; margin: 0 0 15px 0;">Next Steps</h2>
                            <ol style="color: #666666; padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 10px;">Check your payment information to ensure all details are correct.</li>
                                <li style="margin-bottom: 10px;">Verify that your payment method has sufficient funds available.</li>
                                <li style="margin-bottom: 10px;">Try the transaction again by clicking the button below.</li>
                                <li style="margin-bottom: 10px;">If issues persist, please contact your bank or use a different payment method.</li>
                            </ol>
                        </td>
                    </tr>
                </table>

                <!-- Retry Payment Button -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="margin-bottom: 30px;">
                    <tr>
                        <td align="center">
                            <a href="https://shore.gitam.edu/shore25/festpass/" style="display: inline-block; background-color: #4CAF50; color: #ffffff; padding: 14px 28px; text-decoration: none; border-radius: 5px; font-size: 18px; font-weight: bold;">
                                Retry Payment
                            </a>
                        </td>
                    </tr>
                </table>

                <!-- Additional Information -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-top: 1px solid #eeeeee; padding-top: 20px; margin-bottom: 30px;">
                    <tr>
                        <td>
                            <h2 style="color: #333333; font-size: 22px; margin: 0 0 15px 0;">Important Information</h2>
                            <ul style="color: #666666; padding-left: 20px; margin: 0;">
                                <li style="margin-bottom: 10px;">Your Shore Fest '25 pass has not been reserved.</li>
                                <li style="margin-bottom: 10px;">Ticket availability is subject to change. We recommend completing your purchase as soon as possible.</li>
                                <li style="margin-bottom: 10px;">If you continue to experience issues, please contact our support team for assistance.</li>
                            </ul>
                        </td>
                    </tr>
                </table>

                <!-- Footer -->
                <table border="0" cellpadding="0" cellspacing="0" width="100%">
                    <tr>
                        <td align="center" style="color: #666666; font-size: 14px;">
                            <p style="margin: 0 0 10px 0;">If you have any questions, please contact our support team:</p>
                            <p style="font-weight: bold; margin: 0 0 10px 0;">shore_tech@gitam.in</p>
                            <p style="margin: 0;">We hope to see you at Shore Fest '25!</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>